<%- layout('layouts/boilerplate') %> 

<div class="container d-flex justify-content-center align-items-center my-5">
    <div class="row">
        <div class="col">
            <div class="card shadow">
                <div class="card-body">
                    <h2 class="card-title">Edit your office</h2>
                    <form class="p-2 needs-validation" action="/company/<%= company._id %>/<%= office._id %>?_method=PUT" method="POST" enctype="multipart/form-data" novalidate>
                        <div class="my-3">
                            <label class="form-label" for="name">Office Nickname:</label>
                            <input class="form-control"  type="text" id="name" name="office[officeNickname]" value="<%= office.officeNickname %>" required>
                
                            <div class="invalid-feedback">Office name is required.</div>
                        </div>
                
                        <div class="my-3">
                            <label class="form-label" for="streetAddress">Street Address:</label>
                            <input class="form-control" type="text" id="streetAddress" name="office[officeAddress][streetAddress]" value="<%= office.officeAddress.streetAddress %>">
                
                            <div class="invalid-feedback">Office address is required.</div>
                        </div>
                
                        <div class="my-3">
                            <label class="form-label" for="town">Town:</label>
                            <input class="form-control" type="text" id="town" name="office[officeAddress][town]" value="<%= office.officeAddress.town %>">
                
                            <div class="invalid-feedback">Office address is required.</div>
                        </div>
                
                        <div class="my-3">
                            <label class="form-label" for="county">County/City:</label>
                            <input class="form-control" type="text" id="county" name="office[officeAddress][county]" value="<%= office.officeAddress.county %>">
                
                            <div class="invalid-feedback">Office address is required.</div>
                        </div>
                
                        <div class="my-3">
                            <label class="form-label" for="postcode">Postcode:</label>
                            <input class="form-control" type="text" id="postcode" name="office[officeAddress][postcode]" value="<%= office.officeAddress.postcode %>">
                
                            <div class="invalid-feedback">Office postcode is required.</div>
                        </div>
                
                        <div class="my-3">
                            <label for="floorplan" class="form-label">New Floor Plan:</label>
                            <input class="form-control" type="file" id="floorplan" name="office[floorPlan]">
                    
                           <div class="invalid-feedback">Please upload a floor plan.</div>
                    
                        </div>
                
                        <div class="my-3">
                            <label class="form-label" for="noOfDesks">Number of desks:</label>
                            <input class="form-control" type="number" id="noOfDesks" name="noOfDesks" value="<%= office.desks.length %>">
                
                            <div class="invalid-feedback">Zero desks is not allowed.</div>
                        </div>

                        <div class="d-grid mt-3">
                            <button class='btn btn-success'>Submit</button>
                        </div>
                    </form> 
                </div>
            </div>
        </div>
    </div>
</div>
